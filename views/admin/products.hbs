<div class="container">
  {{> alert}}

  <h2 id="title">Backstage</h2>
  <a href="/admin/products" style="text-decoration: none;" class="subtitle">Product</a> |
  <a href="/admin/orders" style="text-decoration: none;" class="subtitle">Order</a> |
  <a href="/admin/categories" style="text-decoration: none;" class="subtitle">Category</a>
  <br>
  <a href="/admin/products/new" type="button" class="btn btn-secondary add-btn">Add new product</a>

  <table class="table table-bordered custom-product-table table-responsive-sm">
    <thead class="thead thead-custom">
      <tr class="text-center">
        <th scope="col">Product Name</th>
        <th scope="col">Category</th>
        <th scope="col">Image</th>
        <th scope="col">Price</th>
        <th scope="col">Detail</th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
      {{#each products}}
      <tr class="text-center">
        <td>{{this.name}}</td>
        <td>{{this.Category.name}}</td>
        <td>
          <img src="{{this.image}}" alt="product_photo" class="admin-photo">
        </td>
        <td>${{this.price}}</td>
        <td>
          <a href="/admin/products/{{this.id}}" class="edit-btn">Edit</a>
        </td>
        <td>
          <button type="button" class="btn admin-trash" data-toggle="modal" data-target="#p{{this.id}}">
            <i class="fas fa-trash-alt"></i>
          </button>
          
        </td>
      </tr>
      <!-- remove product modal -->
      <div class="modal fade" id="p{{this.id}}" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Delete the product</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              Are you sure if you want to delete this product?
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
              <form action="/admin/products/{{this.id}}?_method=DELETE" method="POST">
                <button type="submit" class="btn btn-primary">Yes</button>
              </form>
            </div>
          </div>
        </div>
      {{/each}}
    </tbody>
  </table>
</div>



